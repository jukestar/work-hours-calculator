<mat-card>
    <mat-card-title>Beregn arbeidstid: vscode.dev</mat-card-title>

    <mat-card-subtitle>Forenkle f√∏ring av timer</mat-card-subtitle>

    <mat-card-content>
        <form [formGroup]="form">
            <ng-container formArrayName="workHours">
                <ng-container
                    *ngFor="
                        let workHour of workHoursArray.controls;
                        let i = index;
                        let first = first
                    "
                >
                    <section
                        class="c-form"
                        [formGroup]="getWorkHourFormGroup(workHour)"
                    >
                        <mat-form-field appearance="outline">
                            <mat-label>Fra</mat-label>
                            <input
                                type="time"
                                matInput
                                formControlName="startTime"
                            />
                            <mat-hint
                                *ngIf="hasError(getWorkHourFormGroup(workHour))"
                            >
                                Ugyldig
                            </mat-hint>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Til</mat-label>
                            <input
                                type="time"
                                matInput
                                formControlName="endTime"
                            />
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Pause</mat-label>
                            <input
                                type="number"
                                matInput
                                formControlName="lunchBreak"
                            />
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <input
                                matInput
                                disabled
                                [value]="workTimeLineValue(i)"
                            />
                        </mat-form-field>

                        <button
                            [disabled]="first"
                            mat-icon-button
                            aria-label="Remove work time line"
                            (click)="removeWorkTimeLine(i)"
                            type="button"
                        >
                            <mat-icon *ngIf="!first" aria-label="delete">
                                delete
                            </mat-icon>
                        </button>
                    </section>
                </ng-container>
            </ng-container>
        </form>
        <button
            (click)="addWorkHours()"
            type="button"
            mat-flat-button
            color="primary"
        >
            Legg til
        </button>
    </mat-card-content>

    <mat-divider></mat-divider>

    <mat-card-actions class="c-footer">
        <button
            mat-stroked-button
            type="button"
            [cdkCopyToClipboard]="totalWorkTime"
            (cdkCopyToClipboardCopied)="copyComplete(totalWorkTime)"
        >
            {{ totalWorkTime }}
        </button>
        <button mat-button (click)="onReset()">Tilbakestill</button>
    </mat-card-actions>
</mat-card>
